<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/icons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/icons/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/icons/manifest.json">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Davepermen">
    <meta name="application-name" content="Davepermen">
    <meta name="msapplication-TileColor" content="#b8a275">
    <meta name="msapplication-TileImage" content="/icons/mstile-144x144.png">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/highlight.css">
    <script src="/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel='stylesheet' href='/style.css' type='text/css' />
    <title>uwp app for kiosk mode - davepermen.net</title>
</head>
<body>
    <section blog>
        <article>
            <header style="background: url('hero.jpg')">
                <h1>UWP App for Kiosk Mode</h1>
            </header>
            <section>
                <p>I want to use my older Surface Pro 2 as a picture frame, while it’s running my webserver in the background (<a href="https://davepermen.net">davepermen.net</a>).</p>
                <p>To do so, I considered setting up Windows 10 Kiosk Mode (a.k.a. Assigned Access), creating a simple UWP App and deploy it.</p>
                <p>What I learned:</p>
                <p>To be able to chose the application in ‘Assigned Access’, you need to enable it in the Package.appxmanifest. Add this to it:</p>
            </section>
            <pre><code class="xml">&lt;Package&gt;
  &lt;Applications&gt;
    &lt;Application&gt;
    &lt;!-- insert this extension --&gt;
      &lt;Extensions&gt;
        &lt;uap:Extension Category="windows.aboveLockScreen" /&gt;
      &lt;/Extensions&gt;
    &lt;/Application&gt;
  &lt;/Applications&gt;
&lt;/Package&gt;</code></pre>
            <section>
                <p>Once you’ve created your package and installed it, it should be choseable from the ‘Assigned Access’ app list.</p>
                <p>Given I want this to be an always running app, I need it to force the tablet to never go to sleep. To do this, I have to request the display to stay active. I do so in the MainPage constructor</p>
            </section>
            <pre><code class="c#">public sealed partial class MainPage : Page
{
    DisplayRequest request;
    public MainPage()
    {
        this.InitializeComponent();
        request = new DisplayRequest();
        request.RequestActive();
    }
}</code></pre>
            <section>
                <p>And that is all that’s needed to allow a UWP app to run continuously in Kiosk Mode on Windows 10.</p>
                <p>To make the Kiosk user auto-logon on boot, I used ‘control userpasswords2’, launched from cmd.exe, to configure a user.</p>
            </section>
        </article>
    </section>
</body>
</html>